# ====================================
# ICACP Docker Compose Environment
# ICACP Docker 環境變數設定檔
# ====================================
# 使用方式：
#   1. 複製此檔案為 .env
#      cp .env.example .env
#   2. 根據下方註釋修改必要的設定值
#   3. 啟動服務
#      docker compose up -d --build
# ====================================

# =====================================
# MySQL 資料庫設定
# =====================================

# [生產環境必改] 資料庫 root 密碼
# 本地開發可用預設值，生產環境請使用強密碼 (建議 16+ 字元，含大小寫數字符號)
MYSQL_ROOT_PASSWORD=password123

# [可選] 資料庫名稱，通常不需修改
MYSQL_DATABASE=acap_dev

# [可選] 應用程式連線用的資料庫帳號
MYSQL_USER=acap

# [生產環境必改] 應用程式連線用的資料庫密碼
MYSQL_PASSWORD=acap_password

# [可選] MySQL 對外端口，如果 3306 被佔用可改成其他 (如 3307)
MYSQL_PORT=3306

# =====================================
# Redis 快取設定
# =====================================

# [可選] Redis 對外端口，如果 6379 被佔用可改成其他 (如 6380)
REDIS_PORT=6379

# =====================================
# 後端 API 設定
# =====================================

# [可選] 後端 API 對外端口，如果 8080 被佔用可改成其他 (如 8081)
BACKEND_PORT=8080

# [必改] JWT 加密密鑰 - 用於加密登入 Token
# 重要：必須至少 32 個字元的隨機字串
# 生成方式 (Linux/Mac): openssl rand -base64 32
# 範例：xK8mN2pL5qR7tY9wA3cF6hJ0kM4nP8sV1bD
# 警告：此密鑰洩露會導致攻擊者可偽造任何用戶登入！
JWT_SECRET=your-32-plus-character-secret-key-here-change-in-production

# [必改] 管理員 Email 白名單 - 使用 Google 登入時會比對此清單
# 符合的帳號會被賦予 admin 權限，可以管理所有學校和學生資料
# 多個管理員用逗號分隔，例如：admin1@gmail.com,admin2@gmail.com
ADMIN_WHITELIST=admin@example.com

# [可選] 執行環境，影響錯誤訊息詳細程度
# development = 顯示詳細錯誤 (開發用)
# production = 隱藏敏感錯誤訊息 (正式環境)
ENVIRONMENT=development

# [可選] Gin 框架模式
# debug = 顯示路由資訊 (開發用)
# release = 關閉 debug 輸出 (正式環境)
GIN_MODE=release

# =====================================
# 前端網站設定
# =====================================

# [可選] 前端對外端口，如果 3000 被佔用可改成其他 (如 3001)
FRONTEND_PORT=3000

# [依環境修改] 前端網站的完整 URL - 用於後端 CORS 設定
# 本地開發：http://localhost:3000
# EC2 部署：http://你的IP:3000  (例如 http://43.213.29.25:3000)
# 有域名時：https://你的域名  (例如 https://icacp.example.com)
FRONTEND_URL=http://localhost:3000

# =====================================
# 開發工具設定
# =====================================

# [可選] Adminer 資料庫管理介面端口
# 啟動方式：docker compose --profile tools up -d adminer
# 存取網址：http://localhost:8081
ADMINER_PORT=8081

# =====================================
# 快速設定指南
# =====================================
#
# 【本地開發】只需修改：
#   - ADMIN_WHITELIST (改成你的 Google Email)
#   - JWT_SECRET (可用預設值，但建議更換)
#
# 【正式部署】必須修改：
#   - MYSQL_ROOT_PASSWORD (強密碼)
#   - MYSQL_PASSWORD (強密碼)
#   - JWT_SECRET (32+ 字元隨機字串)
#   - ADMIN_WHITELIST (管理員 Email)
#   - FRONTEND_URL (實際的網站網址)
#   - ENVIRONMENT=production
#
# =====================================
